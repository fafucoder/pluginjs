@import "@pluginjs/styles/variables.scss";

// Vars
// =====================
$gradientSelector: "pj-gradientSelector" !default;
$gradientSelector-sizer: $sizer !default;
$editPanel: "pj-editPanel" !default;
$scrollable: "pj-scrollable" !default;
$range: "pj-range" !default;
// global
$gradientSelector-sizer: $sizer !default;

$gradientSelector-border: 1px solid $gray-lightest !default;
$gradientSelector-border-radius: $border-radius-base !default;
$gradientSelector-active-color: $color-primary !default;
$gradientSelector-warning-color: $color-warning !default;

$gradientSelector-width: 16 * $gradientSelector-sizer !default; //160px
$gradientSelector-height: 9 * $gradientSelector-sizer !default; //30px
$gradientSelector-border: 1px solid $border-color;

// component
$component-content-width: 16 * $gradientSelector-sizer !default; //160px
// colorType
$colorType-height: 3 * $gradientSelector-sizer !default; //30px
// selector item
$selector-item-width: 11.5 * $gradientSelector-sizer !default; //115px
$selector-item-height: 8 * $gradientSelector-sizer !default; //80px
$selector-item-margin-size: 1.7 * $gradientSelector-sizer !default; //17px

$editPanel-component-color: $color-red !default;
// Core
// =====================
.#{$gradientSelector} {
  // === animate === //
  @keyframes flashing {
    0% {
      border-color: $gradientSelector-warning-color;
    }

    50% {
      border-color: $gray-lightest;
    }

    100% {
      border-color: $gradientSelector-warning-color;
    }
  }

  &-trigger {
    position: relative;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    width: $gradientSelector-width;
    height: $gradientSelector-height;
    padding: 1px;
    border: $gradientSelector-border;
    border-style: dashed;

    &-action {
      position: absolute;
      top: 0;
      left: 0;
      display: none;
      align-items: center;
      justify-content: center;
      width: 100%;
      height: 100%;
      color: $color-white;
      background-color: $color-opacity;
      border-radius: 2px;
      opacity: 0;
    }
  }

  &-empty {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    width: 100%;
    height: 100%;
  }

  &-open-disabled {
    pointer-events: none;
  }

  &.#{$gradientSelector}-input {
    display: none;
  }

  .#{$gradientSelector}-fill {
    position: relative;
    display: none;
    padding: 1px;
    border: $gradientSelector-border;

    &-img {
      width: $gradientSelector-width;
      height: $gradientSelector-height;
    }
  }

  &-editor {
    margin-right: 28px;
  }

  &-preview {
    position: relative;
    width: 23 * $gradientSelector-sizer;
    height: 13 * $gradientSelector-sizer;
    padding: 1.4 * $gradientSelector-sizer;
    margin-bottom: 2 * $gradientSelector-sizer;
    // background: url(./images/bg-canvas.png) no-repeat center;
    border: 1px solid #dfe4ed;
    border-radius: 2px;

    &-img {
      height: 100%;
    }
  }

  &-dropdown {

    width: 30 * $gradientSelector-sizer;
    height: 34 * $gradientSelector-sizer;
    padding: 2 * $gradientSelector-sizer;
    background-color: $color-white;
    border: 1px solid #dfe4ed;
    border-radius: 2px;

  }

  &-btn-action {
    display: flex;
    justify-content: flex-end;
    margin-top: 2 * $gradientSelector-sizer;
    font-size: 1.3 * $gradientSelector-sizer;
  }

  &-cancel {
    color:$color-black
  }

  &-field {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-bottom: 2 * $gradientSelector-sizer;
    .pj-colorSelector-trigger {
      position: relative;
      width: 16 * $gradientSelector-sizer;
      height: 100%;
    }
    .pj-gradientSelector-field-content {
      width: 16 * $gradientSelector-sizer;

      .pj-range-control {
        position: relative;
        box-sizing: border-box;
        order: 0;
        width: 14.3 * $gradientSelector-sizer;
        height: 2px;
        background-color: #e6e6e6;
      }
    }
  }

  &-selector-list {
    height: 100%;

    .#{$scrollable} {

      &-content {
        display: flex;
        flex-wrap: wrap;
        justify-content: flex-start;
        width: 100% !important;
      }
    }
  }

  &-selector-item {
    //float: left;
    display: inline-flex;
    width: calc(100% / 4 - 2px - 20px);
    height: $selector-item-height;
    margin-right: 2 * $gradientSelector-sizer;
    margin-bottom: 2 * $gradientSelector-sizer;
    list-style: none;
    border: $gradientSelector-border;
    border-color: transparent;

    &:hover {
      cursor: pointer;
      border-color: $gradientSelector-active-color;
    }
  }

  &-colortype {
    display: flex;
    height: $colorType-height;
  }

  &-preset,
  &-custom {
    height: 100%;
    line-height: $colorType-height;
    text-align: center;
    border: $gradientSelector-border;

    &:hover {
      cursor: pointer;
      border-color: $gradientSelector-active-color;
    }
  }

  &-preset {
    width: 50%;
    border-top-left-radius: $gradientSelector-border-radius;
    border-bottom-left-radius: $gradientSelector-border-radius;

    &.#{$gradientSelector}-active + .#{$gradientSelector}-custom {
      border-left-color: transparent;
    }
  }

  &-custom {
    position: relative;
    left: -1px;
    flex-grow: 1;
    border-top-right-radius: $gradientSelector-border-radius;
    border-bottom-right-radius: $gradientSelector-border-radius;
  }

  .#{$range}-control {
    width: 9 * $gradientSelector-sizer; //90px
  }

  // === untils === //
  &-hover {
    .#{$gradientSelector}-trigger-action {
      opacity: 0.9 !important;
      transition: opacity 0.3s;
    }
  }

  &-active {
    color: $gradientSelector-active-color;
    border-color: $gradientSelector-active-color;
  }

  &-warning {
    // border-color: $gradientSelector-warning-color !important;
    animation: flashing 0.4s ease;
  }

  &-show {
    .#{$gradientSelector}-empty {
      display: none;
    }

    .#{$gradientSelector}-fill {
      display: block;
    }

    .#{$gradientSelector}-trigger-action {
      display: flex;
    }
  }
}

