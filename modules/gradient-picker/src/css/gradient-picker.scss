@import "@pluginjs/styles/variables.scss";

// Vars
// =====================
$gradientPicker: "pj-gradientPicker" !default;
$gradientPicker-sizer: $sizer !default;
$editPanel: "pj-editPanel" !default;
$scrollable: "pj-scrollable" !default;
$range: "pj-range" !default;
// global
$gradientPicker-sizer: $sizer !default;

$gradientPicker-border: 1px solid $gray-lighter !default;
$gradientPicker-border-radius: $border-radius-base !default;
$gradientPicker-active-color: $color-primary !default;
$gradientPicker-warning-color: $color-warning !default;

$gradientPicker-width: 16 * $gradientPicker-sizer !default; //160px
$gradientPicker-height: 9 * $gradientPicker-sizer !default; //30px
$gradientPicker-border: 1px solid $gray-border;

// component
$component-content-width: 16 * $gradientPicker-sizer !default; //160px
// colorType
$colorType-height: 3 * $gradientPicker-sizer !default; //30px
// selector item
$selector-item-width: 11.5 * $gradientPicker-sizer !default; //115px
$selector-item-height: 8 * $gradientPicker-sizer !default; //80px
$selector-item-margin-size: 1.7 * $gradientPicker-sizer !default; //17px

$editPanel-component-color: $color-red !default;
// Core
// =====================
.#{$gradientPicker} {  
  // === animate === //
  @keyframes flashing {
    0% {
      border-color: $gradientPicker-warning-color;
    }

    50% {
      border-color: $gray-lighter;
    }

    100% {
      border-color: $gradientPicker-warning-color;
    }
  }

  &-trigger {    
    position: relative;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    width: $gradientPicker-width;
    height: $gradientPicker-height;
    padding: 1px;
    border: $gradientPicker-border;
    border-style: dashed;
  }

  &-empty {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    width: 100%;
    height: 100%;
  }

  &-open-disabled {
    pointer-events: none;
  }

  &.#{$gradientPicker}-input {
    display: none;
  }

  .#{$gradientPicker}-fill {
    position: relative;
    display: none;
    padding: 1px;
    border: $gradientPicker-border;

    .#{$gradientPicker}-action {
      position: absolute;
      top: 0;
      left: 0;
      display: flex;
      align-items: center;
      justify-content: center;
      width: 100%;
      height: 100%;
      color: $color-white;
      background-color: $color-opacity;
      border-radius: 2px;
      opacity: 0;
    }

    &-img {
      width: $gradientPicker-width;
      height: $gradientPicker-height;
    }
  }

  &-editor {
    margin-right: 28px;
  }

  &-preview {
    position: relative;
    width: 23 * $gradientPicker-sizer;
    height: 13 * $gradientPicker-sizer;
    padding: 1.4 * $gradientPicker-sizer;
    margin-bottom: 2 * $gradientPicker-sizer;
    // background: url(./images/bg-canvas.png) no-repeat center;
    border: 1px solid #dfe4ed;
    border-radius: 2px;

    &-img {
      height: 100%;
    }
  }

  &-dropdown {
    
    width: 30 * $gradientPicker-sizer;
    height: 34 * $gradientPicker-sizer;
    padding: 2 * $gradientPicker-sizer;
    background-color: $color-white;
    border: 1px solid #dfe4ed;
    border-radius: 2px;
    
  }

  &-btn-action {
    display: flex;
    justify-content: flex-end;
    margin-top: 2 * $gradientPicker-sizer;
    font-size: 1.3 * $gradientPicker-sizer;
  }

  &-cancel {
    color:$color-black
  }

  &-field {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-bottom: 2 * $gradientPicker-sizer;
    .pj-colorPicker-trigger {
      position: relative;
      width: 16 * $gradientPicker-sizer;
      height: 100%;
    }
    .pj-gradientPicker-field-content {
      width: 16 * $gradientPicker-sizer;

      .pj-range-control {
        position: relative;
        box-sizing: border-box;
        order: 0;
        width: 14.3 * $gradientPicker-sizer;
        height: 2px;
        background-color: #e6e6e6;
      }
    }
  }

  &-selector-list {
    height: 100%;

    .#{$scrollable} {

      &-content {
        display: flex;
        flex-wrap: wrap;
        justify-content: flex-start;
        width: 100% !important;
      }
    }
  }

  &-selector-item {
    //float: left;
    display: inline-flex;
    width: calc(100% / 4 - 2px - 20px);
    height: $selector-item-height;
    margin-right: 2 * $gradientPicker-sizer;
    margin-bottom: 2 * $gradientPicker-sizer;
    list-style: none;
    border: $gradientPicker-border;
    border-color: transparent;

    &:hover {
      cursor: pointer;
      border-color: $gradientPicker-active-color;
    }
  }

  &-colortype {
    display: flex;
    height: $colorType-height;
  }

  &-preset,
  &-custom {
    height: 100%;
    line-height: $colorType-height;
    text-align: center;
    border: $gradientPicker-border;

    &:hover {
      cursor: pointer;
      border-color: $gradientPicker-active-color;
    }
  }

  &-preset {
    width: 50%;
    border-top-left-radius: $gradientPicker-border-radius;
    border-bottom-left-radius: $gradientPicker-border-radius;

    &.#{$gradientPicker}-active + .#{$gradientPicker}-custom {
      border-left-color: transparent;
    }
  }

  &-custom {
    position: relative;
    left: -1px;
    flex-grow: 1;
    border-top-right-radius: $gradientPicker-border-radius;
    border-bottom-right-radius: $gradientPicker-border-radius;
  }

  .#{$range}-control {
    width: 9 * $gradientPicker-sizer; //90px
  }

  // === untils === //
  &-hover {
    opacity: 0.9 !important;
    transition: opacity 0.3s;
  }

  &-active {
    color: $gradientPicker-active-color;
    border-color: $gradientPicker-active-color;
  }

  &-warning {
    // border-color: $gradientPicker-warning-color !important;
    animation: flashing 0.4s ease;
  }

  &-show {
    .#{$gradientPicker}-empty {
      display: none;
    }

    .#{$gradientPicker}-fill {
      display: block;
    }
  }
}

